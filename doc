1.Register-服务注册
Eureka Client向服务端注册信息时，提供自身的元数据；
元数据：
标准元数据：主机名、IP地址、端口、状态页、健康检查等信息
自定义元数据：通过eureka.instance.metadata-map配置
2.服务续约
客户端默认向服务端发送心跳间隔时间30s,属性设置eureka.instance.lease-renewal-interval-in-seconds:30s;
Eureka Server剔除服务的间隔时间90s,即90s收不到心跳剔除该服务 eureka.instance.lease-expiration-duration-in-seconds:90s;
3.Fetch Registries 获取服务注册列表信息，缓存到本地
服务注册列表信息30s更新一次，默认传输格式json，也支持xml
eureka.client.registry-fetch-interval-seconds:30s
4.高可用HIA
eureka高可用即搭建 eureka server集群，在实际的生产环境中，单个注册中心的服务存在弊端，一旦服务器发生宕机，尽管eureka客户端
已经缓存了注册中心的服务列表信息，服务中心故障后继续可以使用，但是一旦服务提供者提供的接口信息发生变化，eureka客户端无法及时获
取最新的服务接口信息，导致应用出错，因此需要搭建eureka server集群，保证服务可持续更新到客户端缓存中。
4.1通过修改本机hosts，搭建两个虚拟环境：
127.0.0.1 peer1
127.0.0.1 peer2
4.2新建两个文件application-peer1.yml，application-peer2.yml，
#application-peer1.yml
spring:
  profiles:peer1
server:
  port: 8761
eureka:
  instance:
    hostname: peer1
  client:
    #register-with-eureka: false
    #fetch-registry: false
    service-url:
      defaultZone: http://peer2:8762/eureka/
#application-peer2.yml
spring:
  profiles:peer2
server:
  port: 8762
eureka:
  instance:
    hostname: peer2
  client:
    #register-with-eureka: false
    #fetch-registry: false
    service_url:
      defaultZone: http://peer1:8761/eureka/

4.3将服务用maven打成jar包，启用两个终端进入到target目录下，分别执行如下命令启动服务：
>cd spring-eureka-server-hia/target
>java -jar spring-eureka-server-hia-0.0.1-SNAPSHOT.jar --spring.profiles.active=peer1
>java -jar spring-eureka-server-hia-0.0.1-SNAPSHOT.jar --spring.profiles.active=peer2
服务启动后，分别访问http://peer1:8761/，http://peer2:8762/，发现服务已经注册成功
4.4 修改eureka-client配置文件，defaultZone: http://peer1:8761/eureka/
server:
  port: 8765
eureka:
  client:
    service-url:
      defaultZone: http://peer1:8761/eureka/
  instance:
    prefer-ip-address: true
spring:
  application:
    name: eureka-client
启动客户端服务成功后刷新两个注册中心，发现eureka-client提供的服务在两个注册中心都注册成功。
也可以defaultZone: http://peer1:8761/eureka/，http://peer2:8762/eureka/
5.

